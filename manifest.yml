---
applications:
  - name: portal-api
    memory: 1500MB
    disk: 2G
    instances: 1
    env:
      server_port: 8080

      BP_JVM_VERSION: 8
      BP_SPRING_CLOUD_BINDINGS_DISABLED: true

      JAVA_TOOL_OPTIONS: "-Xmx300m -Xss1M -XX:MaxMetaspaceSize=93382K -XX:ReservedCodeCacheSize=240m -XX:+UseCompressedOops -Djdk.tls.ephemeralDHKeySize=2048 -Dfile.encoding=UTF-8 -XX:+UseConcMarkSweepGC -XX:SoftRefLRUPolicyMSPerMB=50 -Dsun.io.useCanonCaches=false -Djava.net.preferIPv4Stack=true  -XX:-OmitStackTraceInFastThrow -Xverify:none -XX:MaxDirectMemorySize=250m -XX:+ExitOnOutOfMemoryError"

      # SIDECAR ENV 
      SIDECAR_APIHOST: ((SIDECAR_API_URL))
      SIDECAR_TOKEN_KIND: ((SIDECAR_TOKEN_KIND))            (e.g. bearer or clientcert)
      SIDECAR_HTTPSAPIHOST: https://((SIDECAR_API_URL))
      SIDECAR_ROOTNAMESPACE: ((SIDECAR_ROOTNAMESPACE))

      # CP-PORTAL ENV
      CP_PORTAL_API_URI: ((CP_PORTAL_API_URI))
      CP_PORTAL_COMMON_API_URI: ((CP_PORTAL_COMMON_API_URI))
      CP_PORTAL_METRIC_COLLECTOR_API_URI: ((CP_PORTAL_METRIC_COLLECTOR_API_URI))
      CP_PORTAL_PROVIDER_TYPE: ((CP_PORTAL_PROVIDER_TYPE))
      CP_PORTAL_TERRAMAN_API_URI: ((CP_PORTAL_TERRAMAN_API_URI))
      CP_PORTAL_UI_URI: ((CP_PORTAL_UI_URI))
      DATABASE_TERRAMAN_ID: ((DATABASE_TERRAMAN_ID))
      DATABASE_TERRAMAN_PASSWORD: ((DATABASE_TERRAMAN_PASSWORD))
      DATABASE_URL: ((DATABASE_URL))
      DATABASE_USER_ID: ((DATABASE_USER_ID))
      DATABASE_USER_PASSWORD: ((DATABASE_USER_PASSWORD))
      K8S_MASTER_HOST_KEY: ((K8S_MASTER_HOST_KEY))
      K8S_MASTER_NODE_IP: ((K8S_MASTER_NODE_IP))
      KEYCLOAK_ADMIN_PASSWORD: ((KEYCLOAK_ADMIN_PASSWORD))
      KEYCLOAK_ADMIN_USERNAME: ((KEYCLOAK_ADMIN_USERNAME))
      KEYCLOAK_CP_CLIENT_ID: ((KEYCLOAK_CP_CLIENT_ID))
      KEYCLOAK_CP_CLIENT_SECRET: ((KEYCLOAK_CP_CLIENT_SECRET))
      KEYCLOAK_CP_REALM: ((KEYCLOAK_CP_REALM))
      KEYCLOAK_DB_SCHEMA: ((KEYCLOAK_DB_SCHEMA))
      KEYCLOAK_URI: ((KEYCLOAK_URI))
      REPOSITORY_URL: ((REPOSITORY_URL))
      VAULT_ROLE_ID: ((VAULT_ROLE_ID))
      VAULT_ROLE_NAME: ((VAULT_ROLE_NAME))
      VAULT_SECRET_ID: ((VAULT_SECRET_ID))
      VAULT_URL: ((VAULT_URL))